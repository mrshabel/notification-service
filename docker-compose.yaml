services:
    notification-service-personal:
        container_name: notification-service-personal
        build:
            context: .
            dockerfile: Dockerfile
        env_file: .env
        ports:
            - 8003:8000
        # create bind mount for 2-way sync and watch for development configuration
        volumes:
            - ./src:/app/src
            - ./static:/app/static
            - ./templates:/app/templates
            - ./alembic:/app/alembic:ro # create read-only volume for alembic migrations in development
        develop:
            watch:
                - action: rebuild
                  path: .env

                - action: rebuild
                  path: pyproject.toml
