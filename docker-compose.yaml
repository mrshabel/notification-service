services:
    notification-service:
        container_name: notification-service
        build:
            context: .
            dockerfile: Dockerfile
        env_file: .env
        expose:
            - 8000
        networks:
            - microservices
        # create bind mount for 2-way sync and watch for development configuration
        volumes:
            - ./src:/app/src
            - ./static:/app/static
            - ./templates:/app/templates
            - ./alembic:/app/alembic:ro # create read-only volume for alembic migrations in development
        develop:
            watch:
                - action: rebuild
                  path: .env

                - action: rebuild
                  path: pyproject.toml
